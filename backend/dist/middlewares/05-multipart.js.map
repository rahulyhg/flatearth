{"version":3,"sources":["../../src/middlewares/05-multipart.js"],"names":["ctx","next","request","is","files","fields","req","forEach","_","index","console","log"],"mappings":";;;;;;AAAA;;;;;;kBAEe,OAAOA,GAAP,EAAYC,IAAZ,KAAqB;AAClC,MAAI,CAACD,IAAIE,OAAJ,CAAYC,EAAZ,CAAe,aAAf,CAAL,EAAoC;AAClC,WAAO,MAAMF,MAAb;AACD;AACD,QAAM,EAAEG,KAAF,EAASC,MAAT,KAAoB,MAAM,2BAAYL,IAAIM,GAAhB,CAAhC;;AAEA,MAAIF,KAAJ,EAAW;AACTA,UAAMG,OAAN,CAAc,CAACC,CAAD,EAAIC,KAAJ,KAAc;AAC1BC,cAAQC,GAAR,CAAYF,KAAZ;AACD,KAFD;AAGD;AACD;AACA;AACA;AACA;;AAEA,QAAMR,MAAN;AACD,C","file":"05-multipart.js","sourcesContent":["import asyncBusboy from 'async-busboy';\n\nexport default async (ctx, next) => {\n  if (!ctx.request.is('multipart/*')) {\n    return await next();\n  }\n  const { files, fields } = await asyncBusboy(ctx.req);\n\n  if (files) {\n    files.forEach((_, index) => {\n      console.log(index);\n    });\n  }\n  // console.log(fields);\n  // Object.keys(fields).forEach(key => {\n  //   ctx.request.body[key] = fields[key];\n  // });\n\n  await next();\n};\n"]}