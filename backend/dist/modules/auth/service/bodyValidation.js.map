{"version":3,"sources":["../../../../src/modules/auth/service/bodyValidation.js"],"names":["ctx","args","body","request","console","log","Object","keys","length","throw","badFields","reduce","badValidationFields","field","undefined","push","join"],"mappings":";;;;;;kBAGe,CAACA,GAAD,EAAe,GAAGC,IAAlB,KAAqC;AAClD,QAAM,EAAEC,IAAF,KAAWF,IAAIG,OAArB;AACAC,UAAQC,GAAR,CAAYH,IAAZ;AACA,MAAI,CAACI,OAAOC,IAAP,CAAYL,IAAZ,EAAkBM,MAAvB,EAA+B;AAC7BR,QAAIS,KAAJ,CAAU,GAAV,EAAe,aAAf;AACD;AACD,QAAMC,YAAYT,KAAKU,MAAL,CAAY,CAACC,mBAAD,EAAgCC,KAAhC,KAAkD;AAC9E,QAAIX,KAAKW,KAAL,MAAgBC,SAApB,EAA+B;AAC7BF,0BAAoBG,IAApB,CAAyBF,KAAzB;AACD;AACD,WAAOD,mBAAP;AACD,GALiB,EAKf,EALe,CAAlB;AAMA,MAAIF,UAAUF,MAAd,EAAsB;AACpBR,QAAIS,KAAJ,CAAU,GAAV,EAAgB,uBAAsBC,UAAUM,IAAV,CAAe,GAAf,CAAoB,EAA1D;AACD;AACF,C","file":"bodyValidation.js","sourcesContent":["// @flow\nimport type { Context } from 'koa';\n\nexport default (ctx: Context, ...args: string[]) => {\n  const { body } = ctx.request;\n  console.log(body);\n  if (!Object.keys(body).length) {\n    ctx.throw(400, 'Bad request');\n  }\n  const badFields = args.reduce((badValidationFields: string[], field: string) => {\n    if (body[field] === undefined) {\n      badValidationFields.push(field);\n    }\n    return badValidationFields;\n  }, []);\n  if (badFields.length) {\n    ctx.throw(401, `please check fields ${badFields.join(' ')}`);\n  }\n};\n"]}